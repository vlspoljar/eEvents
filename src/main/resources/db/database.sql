CREATE DATABASE eevents COLLATE utf8_bin;

CREATE TABLE `eevents`.`organizational_unit_type` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT , `name` VARCHAR(20) NOT NULL , `active` VARCHAR(2) NOT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE utf8_bin;
INSERT INTO `organizational_unit_type` (`id`, `name`, `active`) VALUES ('1', 'REGIJA', 'DA');
INSERT INTO `organizational_unit_type` (`id`, `name`, `active`) VALUES ('2', 'ŽUPANIJA', 'DA');

CREATE TABLE `eevents`.`organizational_unit` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT , `name` VARCHAR(100) NOT NULL , `description` VARCHAR(200) NULL , `organizational_unit_type_id` INT(11) UNSIGNED NOT NULL , `organizational_unit_id` INT(11) UNSIGNED NULL , PRIMARY KEY (`id`) ) ENGINE = InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE utf8_bin;
ALTER TABLE `organizational_unit` ADD CONSTRAINT `organizational_unit_fk_1` FOREIGN KEY (`organizational_unit_type_id`) REFERENCES `eevents`.`organizational_unit_type` ( `id` );
ALTER TABLE `organizational_unit` ADD CONSTRAINT `organizational_unit_fk_2` FOREIGN KEY (`organizational_unit_id`) REFERENCES `eevents`.`organizational_unit` ( `id` );
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`) VALUES ('1', 'Središnja Hrvatska', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`) VALUES ('2', 'Sjeverozapadna Hrvatska', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`) VALUES ('3', 'Istočna Hrvatska', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`) VALUES ('4', 'Sjeverni Jadran i Lika', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`) VALUES ('5', 'Srednji i južni Jadran', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('6', 'Grad Zagreb', '2', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('7', 'Karlovačka županija', '2', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('8', 'Sisačko-moslavačka županija', '2', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('9', 'Bjelovarsko-bilogorska županija', '2', '1');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('10', 'Krapinsko-zagorska županija', '2', '2');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('11', 'Koprivničko-križevačka županija', '2', '2');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('12', 'Varaždinska županija', '2', '2');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('13', 'Međimurska županija', '2', '2');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('14', 'Virovitičko-podravska županija', '2', '3');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('15', 'Osječko-baranjska županija', '2', '3');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('16', 'Vukovarsko-srijemska županija', '2', '3');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('17', 'Brodsko-posavska županija', '2', '3');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('18', 'Požeško-slavonska županija', '2', '3');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('19', 'Primorsko-goranska županija', '2', '4');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('20', 'Istarska županija', '2', '4');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('21', 'Ličko-senjska županija', '2', '4');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('22', 'Zadarska županija', '2', '5');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('23', 'Šibensko-kninska županija', '2', '5');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('24', 'Splitsko-dalmatinska županija', '2', '5');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('25', 'Dubrovačko-neretvanska županija', '2', '5');
INSERT INTO `organizational_unit` (`id`, `name`, `organizational_unit_type_id`, `organizational_unit_id`) VALUES ('26', 'Zagrebačka županija', '2', '1');

CREATE TABLE `eevents`.`city_type` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT , `name` VARCHAR(20) NOT NULL , `active` VARCHAR(2) NOT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE utf8_bin;
INSERT INTO `city_type` (`id`, `name`, `active`) VALUES ('1', 'MALI', 'DA');
INSERT INTO `city_type` (`id`, `name`, `active`) VALUES ('2', 'SREDNJI', 'DA');
INSERT INTO `city_type` (`id`, `name`, `active`) VALUES ('3', 'VELIK', 'DA');

CREATE TABLE `eevents`.`city` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT , `name` VARCHAR(100) NOT NULL , `city_type_id` INT(11) UNSIGNED NOT NULL , `organizational_unit_id` INT(11) UNSIGNED NOT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE utf8_bin;
ALTER TABLE `city` ADD CONSTRAINT `city_fk_1` FOREIGN KEY (`city_type_id`) REFERENCES `eevents`.`city_type` ( `id` );
ALTER TABLE `city` ADD CONSTRAINT `city_fk_2` FOREIGN KEY (`organizational_unit_id`) REFERENCES `eevents`.`organizational_unit` ( `id` );
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('1', 'Zagreb', '3', '6');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('2', 'Split', '3', '24');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('3', 'Rijeka', '3', '19');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('4', 'Osijek', '3', '15');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('5', 'Zadar', '2', '22');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('6', 'Pula', '2', '20');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('7', 'Slavonski Brod', '2', '17');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('8', 'Karlovac', '2', '7');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('9', 'Sisak', '2', '8');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('10', 'Dubrovnik', '2', '25');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('11', 'Varaždin', '2', '12');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('12', 'Šibenik', '2', '23');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('13', 'Vinkovci', '2', '16');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('14', 'Velika Gorica', '2', '26');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('15', 'Bjelovar', '2', '9');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('16', 'Vukovar', '2', '16');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('17', 'Solin', '2', '24');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('18', 'Koprivnica', '2', '11');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('19', 'Zaprešić', '1', '26');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('20', 'Požega', '1', '18');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('21', 'Đakovo', '1', '15');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('22', 'Poreč', '1', '20');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('23', 'Samobor', '1', '26');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('24', 'Petrinja', '1', '8');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('25', 'Metković', '1', '25');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('26', 'Čakovec', '1', '13');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('27', 'Virovitica', '1', '14');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('28', 'Kutina', '1', '8');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('29', 'Makarska', '1', '24');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('30', 'Rovinj', '1', '20');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('31', 'Županja', '1', '16');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('32', 'Nova Gradiška', '1', '17');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('33', 'Sinj', '1', '24');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('34', 'Križevci', '1', '11');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('35', 'Trogir', '1', '24');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('36', 'Knin', '1', '23');
INSERT INTO `city` (`id`, `name`, `city_type_id`, `organizational_unit_id`) VALUES ('37', 'Slatina', '1', '14');

CREATE TABLE `eevents`.`event` ( `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(100) NOT NULL , `date_from` TIMESTAMP NOT NULL , `date_to` TIMESTAMP NULL , `free_entrance` VARCHAR(2) NOT NULL DEFAULT 'NE' , `city_id` INT(11) UNSIGNED NOT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE utf8_bin;
ALTER TABLE `event` ADD CONSTRAINT `event_fk_1` FOREIGN KEY (`city_id`) REFERENCES `eevents`.`city` ( `id` );
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Mate Bulić', '2020-02-20 20:00', '2');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Mate Bulić', '2020-02-22 20:00', '1');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Mate Bulić', '2020-02-29 20:00', '4');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Dame biraju', '2020-03-08 20:00', '12');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Dame biraju', '2020-04-19 20:00', '4');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Parni valjak', '2020-04-18 21:00', '1');
INSERT INTO `event` (`name`, `date_from`, `date_to`, `free_entrance`, `city_id`) VALUES ('Zagreb Beer Fest 2020', '2020-05-28 16:00', '2020-05-31 09:00', 'DA', '1');
INSERT INTO `event` (`name`, `date_from`, `date_to`, `free_entrance`, `city_id`) VALUES ('Špancirfest 2020', '2020-08-21 16:30', '2020-08-30 18:30', 'DA', '11');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Željko Pervan', '2020-03-08 20:00', '6');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Željko Pervan', '2020-03-14 20:00', '5');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Željko Pervan', '2020-04-03 20:00', '23');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Celine Dion', '2020-06-05 19:30', '1');
INSERT INTO `event` (`name`, `date_from`, `city_id`) VALUES ('Doris Dragović', '2020-04-18 20:00', '11');
